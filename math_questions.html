<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Math Quiz</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        text-align: center;
        background-color: #f4f4f4;
    }
    .container {
        max-width: 800px;
        margin: 40px auto;
        background: #fff;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1 {
        font-size: 26px;
    }
    .question {
        font-size: 20px;
        margin-bottom: 20px;
    }
    .options label {
        display: block;
        margin: 8px 0;
        cursor: pointer;
        padding: 8px;
        border-radius: 6px;
        transition: background 0.3s;
    }
    .options input {
        margin-right: 8px;
    }
    .navigation {
        margin-top: 20px;
    }
    button {
        padding: 8px 14px;
        margin: 0 5px;
        border: none;
        background-color: #4285f4;
        color: white;
        border-radius: 6px;
        cursor: pointer;
    }
    button:hover {
        background-color: #3367d6;
    }
    .feedback {
        margin-top: 10px;
        font-weight: bold;
    }
    .correct {
        color: green;
    }
    .incorrect {
        color: red;
    }
    .explanation {
        font-size: 14px;
        margin-top: 5px;
        color: #555;
    }
</style>
</head>
<body>

<div class="container">
    <h1>Math Quiz</h1>
    <div id="quiz"></div>
    <div class="navigation">
        <button id="prevBtn" onclick="prevQuestion()">Previous</button>
        <button id="nextBtn" onclick="nextQuestion()">Next</button>
        <button id="submitBtn" onclick="submitQuiz()" style="display:none;">Submit</button>
    </div>
</div>

<script>
const quizData = [
    { q: "A train travels 128 km in the morning and 156 km in the afternoon. How far does it travel in total?",
      options: ["274 km","284 km","294 km","264 km"], answer: "284 km",
      explanation: "Add the two distances: 128 + 156 = 284 km." },
    { q: "Maria baked 48 cupcakes. She gave 12 to her neighbor, 15 to her friend, and kept the rest. How many cupcakes does she have left?",
      options: ["21","20","18","19"], answer: "21",
      explanation: "48 − (12 + 15) = 48 − 27 = 21." },
    { q: "A box contains 9 packs of pencils. Each pack has 12 pencils. How many pencils are in the box?",
      options: ["108","96","112","124"], answer: "108",
      explanation: "9 × 12 = 108." },
    { q: "Liam read 45 pages on Monday, 36 pages on Tuesday, and 55 pages on Wednesday. How many pages did he read in all?",
      options: ["136","146","156","126"], answer: "136",
      explanation: "45 + 36 + 55 = 136." },
    { q: "A school has 432 students. If they are divided evenly into 18 classes, how many students are in each class?",
      options: ["24","20","18","28"], answer: "24",
      explanation: "432 ÷ 18 = 24." },
    { q: "A baker made 250 cookies. He sold 175 cookies. How many cookies are left?",
      options: ["85","75","65","95"], answer: "75",
      explanation: "250 − 175 = 75." },
    { q: "A rope is 6 meters long. It is cut into 4 equal pieces. How long is each piece?",
      options: ["1.5 m","1.6 m","2 m","1.25 m"], answer: "1.5 m",
      explanation: "6 ÷ 4 = 1.5 m." },
    { q: "A factory produces 325 toys in January, 289 in February, and 342 in March. How many toys were made in total?",
      options: ["946","956","944","954"], answer: "956",
      explanation: "325 + 289 + 342 = 956." },
    { q: "A bus carries 48 passengers per trip. How many passengers can it carry in 7 trips?",
      options: ["316","336","346","356"], answer: "336",
      explanation: "48 × 7 = 336." },
    { q: "If 240 apples are packed into boxes of 12 apples each, how many boxes are needed?",
      options: ["18","20","22","24"], answer: "20",
      explanation: "240 ÷ 12 = 20." },
    { q: "Sophia spent $18.50 on lunch and $24.75 on dinner. How much did she spend in total?",
      options: ["$43.15","$43.25","$43.35","$43.05"], answer: "$43.25",
      explanation: "18.50 + 24.75 = 43.25." },
    { q: "A marathon is 42 kilometers long. If Sarah has already run 29 kilometers, how many kilometers are left?",
      options: ["13","14","12","11"], answer: "13",
      explanation: "42 − 29 = 13." },
    { q: "A pack of markers costs $3.50. How much will 8 packs cost?",
      options: ["$28.00","$27.50","$26.00","$28.50"], answer: "$28.00",
      explanation: "3.50 × 8 = 28.00." },
    { q: "There are 64 chairs in a hall. They are arranged in 8 equal rows. How many chairs are in each row?",
      options: ["8","10","12","14"], answer: "8",
      explanation: "64 ÷ 8 = 8." },
    { q: "A bookstore sold 127 books on Monday and 145 on Tuesday. How many books did it sell in these two days?",
      options: ["272","274","276","278"], answer: "272",
      explanation: "127 + 145 = 272." },
    { q: "125 + 378 = ?", options: ["493","503","513","523"], answer: "503",
      explanation: "125 + 378 = 503." },
    { q: "546 − 278 = ?", options: ["268","278","288","258"], answer: "268",
      explanation: "546 − 278 = 268." },
    { q: "18 × 14 = ?", options: ["242","252","232","262"], answer: "252",
      explanation: "18 × 14 = 252." },
    { q: "936 ÷ 12 = ?", options: ["77","78","79","76"], answer: "78",
      explanation: "936 ÷ 12 = 78." },
    { q: "72 × 9 = ?", options: ["638","648","658","628"], answer: "648",
      explanation: "72 × 9 = 648." }
];

let currentQuestion = 0;
let userAnswers = Array(quizData.length).fill(null);

function shuffleArray(array) {
    return array.sort(() => Math.random() - 0.5);
}

function loadQuestion() {
    const quizEl = document.getElementById("quiz");
    const qData = quizData[currentQuestion];
    const options = shuffleArray([...qData.options]);

    let html = `<div class="question"><strong>Question ${currentQuestion+1} of ${quizData.length}</strong><br>${qData.q}</div>`;
    html += `<div class="options">`;
    options.forEach(opt => {
        const checked = userAnswers[currentQuestion] === opt ? 'checked' : '';
        html += `<label><input type="radio" name="q${currentQuestion}" value="${opt}" ${checked}> ${opt}</label>`;
    });
    html += `</div>`;
    quizEl.innerHTML = html;

    document.getElementById("prevBtn").style.display = currentQuestion === 0 ? 'none' : 'inline-block';
    document.getElementById("nextBtn").style.display = currentQuestion === quizData.length - 1 ? 'none' : 'inline-block';
    document.getElementById("submitBtn").style.display = currentQuestion === quizData.length - 1 ? 'inline-block' : 'none';
}

function saveAnswer() {
    const selected = document.querySelector(`input[name="q${currentQuestion}"]:checked`);
    if (selected) {
        userAnswers[currentQuestion] = selected.value;
    }
}

function nextQuestion() {
    saveAnswer();
    if (currentQuestion < quizData.length - 1) {
        currentQuestion++;
        loadQuestion();
    }
}

function prevQuestion() {
    saveAnswer();
    if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion();
    }
}

function submitQuiz() {
    saveAnswer();
    let score = 0;
    let html = "";
    quizData.forEach((q, idx) => {
        const userAns = userAnswers[idx];
        const correct = userAns === q.answer;
        if (correct) score++;
        html += `<div class="question"><strong>Question ${idx+1}:</strong> ${q.q}</div>`;
        html += `<div class="feedback ${correct ? 'correct' : 'incorrect'}">${correct ? 'Correct!' : 'Incorrect'} (Your answer: ${userAns || 'No answer'})</div>`;
        if (!correct) {
            html += `<div class="correct">Correct answer: ${q.answer}</div>`;
        }
        html += `<div class="explanation">${q.explanation}</div><hr>`;
    });
    html += `<h2>Your Score: ${score} / ${quizData.length}</h2>`;
    document.getElementById("quiz").innerHTML = html;
    document.querySelector(".navigation").style.display = "none";
}

loadQuestion();
</script>

</body>
</html>
